<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Degaback</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<style>
    body {
        padding: 45px;
    }

    h4 {
        margin-bottom: 15px;
    }

    section {
        margin-top: 25px;
    }
</style>
<body>

<h2>Bienvenue sur degaback, plateforme d'administration pour <a href="micheldegallard.fr">micheldegallard.fr</a></h2>

{# Liens utile #}
<section>
    <h4>Liens utiles</h4>

    <ul>
        <li><a href="">Site principal</a></li>
        <li>
            <a href="https://docs.google.com/spreadsheets/d/{{ sheet_id }}"
               target="_blank">
                Excel (stockage des données)
            </a>
        </li>
        <li>
            <a href="https://console.firebase.google.com/u/0/project/michel-de/storage/michel-de.appspot.com/files?hl=fr"
               target="_blank">
                Firebase Storage (stockage des images)
            </a>
        </li>
        <li>
            <a href="https://console.firebase.google.com/u/0/project/michel-de/firestore/data"
               target="_blank">
                Firebase Firestore (base de donnée)
            </a>
        </li>
        <li>
            <a href="https://github.com/lolio-dev/degallard" target="_blank">Github degallard (code source)</a>
        </li>
        <li>
            <a href="https://github.com/lolio-dev/degaback" target="_blank">Github degaback (code source)</a>
        </li>
    </ul>
</section>

{# Mise à jour de la bdd #}
<section>
    <h4>Mettre à jour le site</h4>

    <div>
        <a href="{{ url_for('update_db', col_name='paintings') }}"
           class="btn btn-primary"
           role="button"
        >
            Mettre à jour les peintures
        </a>
        <a href="{{ url_for('update_db', col_name='techniques') }}"
           class="btn btn-primary"
           role="button"
        >
            Mettre à jour les techniques
        </a>
        <a href="{{ url_for('update_db', col_name='collections') }}"
           class="btn btn-primary"
           role="button"
        >
            Mettre à jour les collections
        </a>
    </div>
</section>

{# Traductions #}
<section>
    <h4>Traductions</h4>

    <a href="{{ url_for('download_traductions', lang='fr') }}"
       class="btn btn-primary"
       role="button"
    >
        Télécharger les traductions française
    </a>
    <a href="{{ url_for('download_traductions', lang='en') }}"
       class="btn btn-primary"
       role="button"
    >
        Télécharger les traductions anglaises
    </a>
</section>

{# Toasts #}
<div class="flashes">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
                    <div class="toast align-items-center text-bg-{{ category }} border-0" role="alert"
                         aria-live="assertive"
                         aria-atomic="true" id="liveToast">
                        <div class="d-flex">
                            <div class="toast-body">
                                {{ message }}
                            </div>
                            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                                    aria-label="Close"></button>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>

<script>
    bootstrap.Toast.getOrCreateInstance(document.getElementById('liveToast')).show()
</script>
</body>
</html>
